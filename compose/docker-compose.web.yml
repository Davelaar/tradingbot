name: webstack
services:
  filebrowser:
    image: filebrowser/filebrowser:latest
    user: "1000:1000"
    command: -a 0.0.0.0 -p 8080 -r /srv/trading
    restart: unless-stopped
    networks: [web]
    volumes:
      - /srv/trading:/srv/trading
      - /srv/trading/filebrowser/db:/database
      - /srv/trading/filebrowser/config:/config
  caddy:
    image: caddy:2.10.2
    restart: unless-stopped
    networks: [web]
    ports: ["80:80","443:443"]
    environment:
      - DOMAIN=
      - LE_EMAIL=
    volumes:
      - /srv/trading/web/Caddyfile:/etc/caddy/Caddyfile:ro
      - caddy_data:/data
      - caddy_config:/config
networks: { web: {} }
volumes: { caddy_data: {}, caddy_config: {} }
